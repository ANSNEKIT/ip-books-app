(function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],b=0,d=[];b<c.length;b++)i=c[b],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],r=!0,c=1;c<o.length;c++){var s=o[c];0!==a[s]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=o[0]))}return t}var r={},a={app:0},n=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=r,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ip-books-app/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"07bb":function(t,e,o){},"0d92":function(t,e,o){"use strict";var r=o("2d11"),a=o.n(r);o.d(e,"default",(function(){return a.a}))},"1d63":function(t,e,o){"use strict";o("61de")},"1eca":function(t,e,o){},2046:function(t,e,o){"use strict";o("07bb")},2315:function(t,e,o){"use strict";o("35b6")},"2a54":function(t,e,o){},"2c8d":function(t,e,o){"use strict";o("511e")},"2d11":function(t,e){},"35b6":function(t,e,o){},"3a0b":function(t,e,o){"use strict";var r=o("c721"),a=o("0d92");o("1d63");a["default"].render=r["a"],a["default"].__scopeId="data-v-43ef5c1c",e["default"]=a["default"]},"4fb9":function(t,e,o){"use strict";o("7b87")},"511e":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("e792"),o("ab8b");var r=o("7a23"),a={class:"container with-nav"};function n(t,e,o,n,i,c){var s=Object(r["w"])("the-navbar"),u=Object(r["w"])("router-view");return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(s),Object(r["g"])("div",a,[Object(r["g"])(u)])],64)}o("d81d");var i=o("3a0b"),c=[{id:1,name:"Евгений Онегин",authors:"Пушкин А.С.",publisher:'ООО "Счастливый мир"',year:"2018",rating:543,isChangeRating:!0,favourite:!1},{id:2,name:"Война и мир",authors:"Толстой Л. Н.",publisher:'ООО "Москва"',year:"2020",rating:444,isChangeRating:!0,favourite:!1},{id:3,name:"Война машин",authors:"Далин А. Б.",publisher:"Ромашка",year:"2005",rating:28,isChangeRating:!0,favourite:!1},{id:4,name:"Интересная книга",authors:"Баширов А. А., Петров Б. Б.",publisher:"Ромашка",year:"2008",rating:59,isChangeRating:!0,favourite:!1},{id:5,name:"Интересная книга",authors:"Баширов А. А., Петров Б. Б.",publisher:"Ромашка",year:"2000",rating:135,isChangeRating:!0,favourite:!1},{id:6,name:"Приключение",authors:"Абрикосов А. А",publisher:"Ромашка",year:"2000",rating:-3,isChangeRating:!0,favourite:!1}],s=c.map((function(t){return JSON.stringify(t)})),u=s,l=u.map((function(t){return JSON.parse(t)})),b={components:{TheNavbar:i["default"]},provide:function(){return{favoriteBooks:[],dataBooks:l}}};b.render=n;var d=b,f=o("6c02"),p=Object(r["F"])("data-v-5a591110");Object(r["s"])("data-v-5a591110");var h={class:"home"},v={class:"card"},g=Object(r["g"])("h1",{class:"text-center my-5"}," Добро пожаловать в сервис поиска электронных книг! ",-1),O=Object(r["g"])("p",{class:"mb-5"}," Здесь вы можете найти книги разных изданий, авторов. На данной странице реализована фильтрация по разным категориям. Сортировать можно по алвафиту, дате выхода, рейтингу. ",-1);Object(r["q"])();var j=p((function(t,e,o,a,n,i){var c=Object(r["w"])("app-search"),s=Object(r["w"])("app-filters"),u=Object(r["w"])("app-sort"),l=Object(r["w"])("empty-card"),b=Object(r["w"])("app-books");return Object(r["p"])(),Object(r["d"])("section",h,[Object(r["g"])("div",v,[g,O,Object(r["g"])(c,{onSearch:i.searchBooks},null,8,["onSearch"]),Object(r["g"])(s,{onFilters:i.dispatchFilteredBooks,onClearFilters:i.clearFilters},null,8,["onFilters","onClearFilters"]),Object(r["g"])(u,{onSortName:i.sort,onSortRating:i.sort,onSortYear:i.sort,onClearSort:i.clearSort},null,8,["onSortName","onSortRating","onSortYear","onClearSort"])]),n.filteredBooks.length?(Object(r["p"])(!0),Object(r["d"])(r["a"],{key:1},Object(r["v"])(i.calcSort,(function(t,e){return Object(r["p"])(),Object(r["d"])(b,{key:t.id,book:t,identity:e,isChangeRating:t.isChangeRating,onAddFavourite:i.dispatchFavorite,onUpCount:i.upCount,onDownCount:i.downCount},null,8,["book","identity","isChangeRating","onAddFavourite","onUpCount","onDownCount"])})),128)):(Object(r["p"])(),Object(r["d"])(l,{key:0,title:"Список книг"}))])})),m=o("2909"),y=(o("a434"),o("159b"),o("4de4"),o("c740"),o("caad"),o("2532"),o("b0c0"),Object(r["F"])("data-v-7634355a"));Object(r["s"])("data-v-7634355a");var k={class:"card"},B={class:"book"},w={class:"book-info"},C={class:"d-flex mb-3"},S={class:"book-name"},_={class:"book-author"},F=Object(r["f"])(" Автор: "),x={class:"book-publisher"},R=Object(r["f"])(" Издательство: "),L={class:"book-date"},I=Object(r["f"])(" Дата выхода: "),A={class:"book-rating"},N=Object(r["g"])("h5",{class:"text-center"},"Рейтинг:",-1);Object(r["q"])();var z=y((function(t,e,o,a,n,i){var c=Object(r["w"])("favourite-filled"),s=Object(r["w"])("favourite-border");return Object(r["p"])(),Object(r["d"])("section",k,[Object(r["g"])("div",B,[Object(r["g"])("div",w,[Object(r["g"])("div",C,[Object(r["g"])("h3",S,[Object(r["g"])("strong",null,Object(r["y"])(o.book.name),1)]),Object(r["g"])("button",{onClick:e[1]||(e[1]=function(){return i.toggleFavouriteIcon&&i.toggleFavouriteIcon.apply(i,arguments)}),id:"favorite-btn",type:"button",class:"btn"},[n.isLocalFavourite?(Object(r["p"])(),Object(r["d"])(c,{key:0})):(Object(r["p"])(),Object(r["d"])(s,{key:1}))])]),Object(r["g"])("p",_,[F,Object(r["g"])("strong",null,Object(r["y"])(o.book.authors),1)]),Object(r["g"])("p",x,[R,Object(r["g"])("strong",null,Object(r["y"])(o.book.publisher),1)]),Object(r["g"])("p",L,[I,Object(r["g"])("time",null,[Object(r["g"])("strong",null,Object(r["y"])(o.book.year),1)])])]),Object(r["g"])("div",A,[N,Object(r["g"])("h2",{class:["text-center",{"rating-green":n.localRating>0,"rating-red":n.localRating<0}]},Object(r["y"])(n.localRating),3),n.isActiveButton?(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:e[2]||(e[2]=function(){return i.upCount&&i.upCount.apply(i,arguments)}),type:"button",class:"button warning"},"+")):Object(r["e"])("",!0),n.isActiveButton?(Object(r["p"])(),Object(r["d"])("button",{key:1,onClick:e[3]||(e[3]=function(){return i.downCount&&i.downCount.apply(i,arguments)}),type:"button",class:"button warning"},"-")):Object(r["e"])("",!0)])])])})),$=(o("a9e3"),Object(r["F"])("data-v-4dbe99b0"));Object(r["s"])("data-v-4dbe99b0");var J={width:"25",height:"25","aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"star",class:"svg-inline--fa fa-star fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},D=Object(r["g"])("path",{fill:"currentColor",d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},null,-1);Object(r["q"])();var U=$((function(t,e){return Object(r["p"])(),Object(r["d"])("svg",J,[D])}));o("2c8d");const q={};q.render=U,q.__scopeId="data-v-4dbe99b0";var E=q,M=Object(r["F"])("data-v-5f19a0ac");Object(r["s"])("data-v-5f19a0ac");var P={width:"25",height:"25","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"star",class:"svg-inline--fa fa-star fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},V=Object(r["g"])("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},null,-1);Object(r["q"])();var T=M((function(t,e){return Object(r["p"])(),Object(r["d"])("svg",P,[V])}));o("2046");const Y={};Y.render=T,Y.__scopeId="data-v-5f19a0ac";var G=Y,H={components:{FavouriteBorder:E,FavouriteFilled:G},name:"appBooks",inject:["dataBooks","favoriteBooks"],props:{id:Number,book:Object,isChangeRating:Boolean,favourite:Boolean,identity:Number},emits:{"add-favourite":function(t){return"number"===typeof t},"up-count":function(t){return"number"===typeof t},"down-count":function(t){return"number"===typeof t}},data:function(){return{isLocalFavourite:this.book.favourite,isActiveButton:this.isChangeRating,localRating:this.book.rating}},methods:{toggleFavouriteIcon:function(){this.isLocalFavourite=!this.isLocalFavourite,this.$emit("add-favourite",this.book.id)},upCount:function(){this.localRating+=1,this.isActiveButton=!this.isActiveButton,this.$emit("up-count",this.book.id)},downCount:function(){this.localRating-=1,this.isActiveButton=!this.isActiveButton,this.$emit("down-count",this.book.id)}}};o("a515");H.render=z,H.__scopeId="data-v-7634355a";var K=H,Q={class:"card"},W={class:"text-center mb-3"},X=Object(r["g"])("p",{class:"text-center"},"Здесь пока ничего нет",-1);function Z(t,e,o,a,n,i){return Object(r["p"])(),Object(r["d"])("section",Q,[Object(r["g"])("h3",W,Object(r["y"])(o.title),1),X])}var tt={props:{title:String}};tt.render=Z;var et=tt,ot={class:"filters mb-3"},rt=Object(r["g"])("h3",{class:"mb-3"},"Фильтры",-1),at={action:"/",method:"GET"},nt={class:"row"},it={class:"col-md-6 mb-3"},ct=Object(r["g"])("label",{class:"form-label",for:"publisher"},"Издательство",-1),st={class:"col-md-6 mb-3"},ut=Object(r["g"])("label",{class:"form-label",for:"year"},"Год издания",-1),lt={class:"row mb-4"},bt={class:"col-md-12 mb-3"},dt=Object(r["g"])("label",{class:"form-label",for:"authors"},"Авторы",-1),ft=Object(r["g"])("hr",null,null,-1);function pt(t,e,o,a,n,i){return Object(r["p"])(),Object(r["d"])("div",ot,[rt,Object(r["g"])("form",at,[Object(r["g"])("div",nt,[Object(r["g"])("div",it,[ct,Object(r["D"])(Object(r["g"])("input",{type:"text",id:"publisher",name:"publisher",placeholder:'ООО "Счастливый мир"',class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.publisher=t})},null,512),[[r["B"],n.publisher]])]),Object(r["g"])("div",st,[ut,Object(r["D"])(Object(r["g"])("input",{type:"number",id:"year",placeholder:"2021",name:"year",class:"form-control",min:"1950",max:"2021","onUpdate:modelValue":e[2]||(e[2]=function(t){return n.year=t})},null,512),[[r["B"],n.year]])])]),Object(r["g"])("div",lt,[Object(r["g"])("div",bt,[dt,Object(r["D"])(Object(r["g"])("input",{type:"text",id:"authors",name:"authors",placeholder:"Иванов, Петров",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return n.authors=t})},null,512),[[r["B"],n.authors,void 0,{trim:!0}]])])]),Object(r["g"])("button",{onClick:e[4]||(e[4]=function(e){return t.$emit("filters",{publisher:n.publisher,year:n.year,authors:n.authors})}),type:"button",class:"button primary me-4",value:"submit"}," Применить "),Object(r["g"])("button",{onClick:e[5]||(e[5]=function(){return i.clearFilters&&i.clearFilters.apply(i,arguments)}),type:"button",class:"button"},"Сбросить")]),ft])}var ht=o("53ca"),vt={name:"appFilters",data:function(){return{publisher:"",year:"",authors:""}},emits:{filters:function(t){return"object"===Object(ht["a"])(t)},"clear-filters":null},methods:{clearFilters:function(){this.$emit("clear-filters"),this.publisher="",this.year="",this.authors=""}}};o("4fb9");vt.render=pt;var gt=vt,Ot={class:"find mb-3"},jt=Object(r["g"])("h3",{class:"mb-3"},"Поиск",-1),mt={class:"row"},yt=Object(r["g"])("label",{class:"col-lg-2 col-form-label",for:"name_books"},"Название книги:",-1),kt={class:"col-lg-8 mb-3"},Bt=Object(r["g"])("hr",null,null,-1);function wt(t,e,o,a,n,i){return Object(r["p"])(),Object(r["d"])("div",Ot,[jt,Object(r["g"])("div",mt,[yt,Object(r["g"])("div",kt,[Object(r["D"])(Object(r["g"])("input",{class:"form-control",id:"name_books",type:"text",placeholder:"Евгений Онегин","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.name=t}),onKeydown:e[2]||(e[2]=Object(r["E"])((function(){return i.dispatchSearch&&i.dispatchSearch.apply(i,arguments)}),["enter"]))},null,544),[[r["B"],n.name,void 0,{trim:!0}]])]),Object(r["g"])("button",{onClick:e[3]||(e[3]=function(){return i.dispatchSearch&&i.dispatchSearch.apply(i,arguments)}),type:"button",class:"button primary col-lg-2 ms-3"}," Поиск ")]),Bt])}var Ct={name:"appSearch",emits:{search:function(t){return"string"===typeof t}},data:function(){return{name:""}},methods:{dispatchSearch:function(){this.$emit("search",this.name)}}};Ct.render=wt;var St=Ct,_t={class:"sort mb-3"},Ft=Object(r["g"])("h3",{class:"mb-3"},"Сортировка",-1),xt={action:"/",method:"GET"},Rt={class:"row"},Lt={class:"col-md-4 mb-3"},It=Object(r["g"])("label",{class:"form-label",for:"sort_name"},"По алфавиту: ",-1),At=Object(r["g"])("option",{disabled:"",value:""},"Выберите способ сортировки",-1),Nt=Object(r["g"])("option",{value:"a-z",selected:""},"А-Я",-1),zt=Object(r["g"])("option",{value:"z-a"},"Я-А",-1),$t={class:"col-md-4 mb-3"},Jt=Object(r["g"])("label",{class:"form-label",for:"sort_rating"},"По рейтингу: ",-1),Dt=Object(r["g"])("option",{disabled:"",value:""},"Выберите способ сортировки",-1),Ut=Object(r["g"])("option",{value:"a-z",selected:""},"Самый высокий",-1),qt=Object(r["g"])("option",{value:"z-a"},"Самый низкий",-1),Et={class:"col-md-4 mb-3"},Mt=Object(r["g"])("label",{class:"form-label",for:"sort_year"},"По дате издания: ",-1),Pt=Object(r["g"])("option",{disabled:"",value:""},"Выберите способ сортировки",-1),Vt=Object(r["g"])("option",{value:"a-z",selected:""},"Новые вверху",-1),Tt=Object(r["g"])("option",{value:"z-a"},"Старые вверху",-1);function Yt(t,e,o,a,n,i){return Object(r["p"])(),Object(r["d"])("div",_t,[Ft,Object(r["g"])("form",xt,[Object(r["g"])("div",Rt,[Object(r["g"])("div",Lt,[It,Object(r["D"])(Object(r["g"])("select",{id:"sort_name",class:"form-select","aria-label":"sort_name","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.sort_name=t}),onChange:e[2]||(e[2]=function(){return i.selectedSortByName&&i.selectedSortByName.apply(i,arguments)})},[At,Nt,zt],544),[[r["A"],n.sort_name]])]),Object(r["g"])("div",$t,[Jt,Object(r["D"])(Object(r["g"])("select",{id:"sort_rating",class:"form-select","aria-label":"sort_rating","onUpdate:modelValue":e[3]||(e[3]=function(t){return n.sort_rating=t}),onChange:e[4]||(e[4]=function(){return i.selectedSortByRating&&i.selectedSortByRating.apply(i,arguments)})},[Dt,Ut,qt],544),[[r["A"],n.sort_rating]])]),Object(r["g"])("div",Et,[Mt,Object(r["D"])(Object(r["g"])("select",{id:"sort_year",class:"form-select","aria-label":"sort_year","onUpdate:modelValue":e[5]||(e[5]=function(t){return n.sort_year=t}),onChange:e[6]||(e[6]=function(){return i.selectedSortByYear&&i.selectedSortByYear.apply(i,arguments)})},[Pt,Vt,Tt],544),[[r["A"],n.sort_year]])])]),Object(r["g"])("button",{type:"button",onClick:e[7]||(e[7]=function(){return i.clearSort&&i.clearSort.apply(i,arguments)}),class:"button"},"Сбросить")])])}var Gt={name:"appSort",data:function(){return{sort_name:"",sort_rating:"",sort_year:""}},emits:{"sort-name":function(t){return"string"===typeof t},"sort-rating":function(t){return"string"===typeof t},"sort-year":function(t){return"string"===typeof t},"clear-sort":null},methods:{selectedSortByName:function(){this.$emit("sort-name",this.sort_name,"sort-name"),this.sort_rating="",this.sort_year=""},selectedSortByRating:function(){this.$emit("sort-rating",this.sort_rating,"sort-rating"),this.sort_name="",this.sort_year=""},selectedSortByYear:function(){this.$emit("sort-year",this.sort_year,"sort-year"),this.sort_name="",this.sort_rating=""},clearSort:function(){this.$emit("clear-sort"),this.sort_name="",this.sort_rating="",this.sort_year=""}}};Gt.render=Yt;var Ht=Gt,Kt={components:{AppFilters:gt,AppSort:Ht,AppSearch:St,AppBooks:K,EmptyCard:et},name:"Home",inject:["dataBooks","favoriteBooks"],data:function(){return{filteredBooks:this.dataBooks,sortedBooks:[]}},methods:{dispatchFavorite:function(t){var e=this.searchBook(t);e.favourite=!e.favourite,e.favourite?this.addFavorite(e):this.removeFavorite(e)},addFavorite:function(t){if(this.favoriteBooks.length){var e=this.hasFavourite(t);e||this.favoriteBooks.push(t)}else this.favoriteBooks.push(t)},removeFavorite:function(t){var e=this.hasFavourite(t),o=this.favoriteBooks.length&&e;if(o){var r=this.searchIndexArray(t.id,this.favoriteBooks);this.favoriteBooks.splice(r,1),this.filteredBooks.forEach((function(e){e.id===t.id&&(e.favourite=!e.favourite)}))}},hasFavourite:function(t){var e=this.favoriteBooks.filter((function(e){return e.id===t.id}));return!0===e[0]},searchIndexArray:function(t,e){var o=e.findIndex((function(e){return e.id===t}));return o},upCount:function(t){var e=this.searchIndexArray(t,this.dataBooks),o=this.dataBooks[e];o.rating+=1,o.isChangeRating=!1},downCount:function(t){var e=this.searchIndexArray(t,this.dataBooks),o=this.dataBooks[e];o.rating-=1,o.isChangeRating=!1},searchBook:function(t){var e=this.filteredBooks,o=e.findIndex((function(e){return e.id===t}));return e[o]},searchBooks:function(t){var e=this.filteredBooks.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));this.filteredBooks=e},dispatchFilteredBooks:function(t){var e=this.filteredBooks.filter((function(e){return e.publisher.toLowerCase().includes(t.publisher.toLowerCase())})),o=e.filter((function(e){return e.year.toLowerCase().includes(t.year.toLowerCase())})),r=o.filter((function(e){return e.authors.toLowerCase().includes(t.authors.toLowerCase())}));this.filteredBooks=r},clearFilters:function(){this.filteredBooks=this.dataBooks},sort:function(t,e){this.sortedBooks=[];var o=Object(m["a"])(this.filteredBooks),r=function(t,e){var o=t.name.toLowerCase(),r=e.name.toLowerCase();return o===r?0:o>r?1:-1},a=function(t,e){var o=t.name.toLowerCase(),r=e.name.toLowerCase();return o===r?0:o>r?-1:1},n=function(t,e){var o=+t.rating,r=+e.rating;return r-o},i=function(t,e){var o=+t.rating,r=+e.rating;return o-r},c=function(t,e){var o=+t.year,r=+e.year;return r-o},s=function(t,e){var o=+t.year,r=+e.year;return o-r};"a-z"===t&&"sort-name"===e&&o.sort(r),"z-a"===t&&"sort-name"===e&&o.sort(a),"a-z"===t&&"sort-rating"===e&&o.sort(n),"z-a"===t&&"sort-rating"===e&&o.sort(i),"a-z"===t&&"sort-year"===e&&o.sort(c),"z-a"===t&&"sort-year"===e&&o.sort(s),this.sortedBooks=o},clearSort:function(){this.sortedBooks=[]}},computed:{calcSort:function(){return this.sortedBooks.length?this.sortedBooks:this.filteredBooks}},created:function(){var t=localStorage.getItem("sorted-books"),e=localStorage.getItem("filtered-books");t&&(this.sortedBooks=JSON.parse(t)),e&&(this.filteredBooks=JSON.parse(e))},watch:{sortedBooks:function(){this.sortedBooks&&localStorage.setItem("sorted-books",JSON.stringify(this.sortedBooks))},dataBooks:function(){this.filteredBooks&&localStorage.setItem("filtered-books",JSON.stringify(this.filteredBooks))}}};o("d026");Kt.render=j,Kt.__scopeId="data-v-5a591110";var Qt=Kt,Wt=Object(r["F"])("data-v-5653e683");Object(r["s"])("data-v-5653e683");var Xt={class:"favourites"},Zt=Object(r["g"])("section",{class:"card"},[Object(r["g"])("h1",{class:"text-center mb-5"},"Список избранных книг")],-1);Object(r["q"])();var te=Wt((function(t,e,o,a,n,i){var c=Object(r["w"])("empty-card"),s=Object(r["w"])("app-favourite");return Object(r["p"])(),Object(r["d"])("div",Xt,[Zt,n.favourites.length?(Object(r["p"])(!0),Object(r["d"])(r["a"],{key:1},Object(r["v"])(n.favourites,(function(t,e){return Object(r["p"])(),Object(r["d"])(s,{key:t.id,book:t,identity:e,onRemoveFavourite:i.removeFavorite},null,8,["book","identity","onRemoveFavourite"])})),128)):(Object(r["p"])(),Object(r["d"])(c,{key:0,title:""}))])})),ee=Object(r["F"])("data-v-33ac196f");Object(r["s"])("data-v-33ac196f");var oe={class:"card"},re={class:"book"},ae={class:"book-info"},ne={class:"book-name mb-3"},ie={class:"book-author"},ce=Object(r["f"])(" Автор: "),se={class:"book-publisher"},ue=Object(r["f"])(" Издательство: "),le={class:"book-date"},be=Object(r["f"])(" Дата выхода: "),de={class:"book-remove"};Object(r["q"])();var fe=ee((function(t,e,o,a,n,i){return Object(r["p"])(),Object(r["d"])("section",oe,[Object(r["g"])("div",re,[Object(r["g"])("div",ae,[Object(r["g"])("h3",ne,[Object(r["g"])("strong",null,Object(r["y"])(o.book.name),1)]),Object(r["g"])("p",ie,[ce,Object(r["g"])("strong",null,Object(r["y"])(o.book.authors),1)]),Object(r["g"])("p",se,[ue,Object(r["g"])("strong",null,Object(r["y"])(o.book.publisher),1)]),Object(r["g"])("p",le,[be,Object(r["g"])("time",null,[Object(r["g"])("strong",null,Object(r["y"])(o.book.year),1)])])]),Object(r["g"])("div",de,[Object(r["g"])("button",{onClick:e[1]||(e[1]=function(e){return t.$emit("remove-favourite",o.identity,o.book.id)}),class:"button danger"},"Удалить")])])])})),pe={components:{},name:"appBooks",inject:["dataBooks","favoriteBooks"],props:{book:Object,identity:Number},emits:{"remove-favourite":function(t){return"number"===typeof t}}};o("2315");pe.render=fe,pe.__scopeId="data-v-33ac196f";var he=pe,ve={components:{EmptyCard:et,AppFavourite:he},name:"Favourites",inject:["dataBooks","favoriteBooks"],data:function(){return{favourites:this.favoriteBooks}},methods:{removeFavorite:function(t,e){this.favourites=this.favourites.filter((function(e,o){return o!==t})),this.favoriteBooks.splice(t,1),this.dataBooks.forEach((function(t){t.id===e&&(t.favourite=!t.favourite)}))}},created:function(){var t=localStorage.getItem("favourites");t&&(this.favourites=JSON.parse(t))},watch:{favoriteBooks:function(){localStorage.setItem("favourites",JSON.stringify(this.favourites))}}};o("6659");ve.render=te,ve.__scopeId="data-v-5653e683";var ge=ve,Oe=[{path:"/",name:"Home",component:Qt},{path:"/favourites",name:"Favourites",component:ge}],je=Object(f["a"])({history:Object(f["b"])(),routes:Oe}),me=je;o("a589");Object(r["c"])(d).use(me).mount("#app")},"61de":function(t,e,o){},6659:function(t,e,o){"use strict";o("2a54")},"7b87":function(t,e,o){},a515:function(t,e,o){"use strict";o("e7d4")},a589:function(t,e,o){},c721:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o("7a23"),a=Object(r["F"])("data-v-43ef5c1c");Object(r["s"])("data-v-43ef5c1c");var n={class:"navbar"},i=Object(r["g"])("h3",null,"ip-books",-1),c={class:"navbar-menu"},s=Object(r["f"])("Главная"),u=Object(r["f"])("Избранное");Object(r["q"])();var l=a((function(t,e,o,l,b,d){var f=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("header",n,[i,Object(r["g"])("ul",c,[Object(r["g"])("li",null,[Object(r["g"])(f,{to:"/"},{default:a((function(){return[s]})),_:1})]),Object(r["g"])("li",null,[Object(r["g"])(f,{to:"/favourites"},{default:a((function(){return[u]})),_:1})])])])}))},d026:function(t,e,o){"use strict";o("1eca")},e7d4:function(t,e,o){}});
//# sourceMappingURL=app.edac8f12.js.map